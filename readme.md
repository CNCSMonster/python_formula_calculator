# 用python实现的万能公式计算器

### 目的

写个可以自己用的公式计算工具，函数画图工具，和数列分析工具。

#### 要求

1. 界面简洁易懂

2. 容易使用。也就是要尽量让读者能够使用自然的计算机键盘的语言完成自己的输入和命令的表达，尽量不要使用复杂的指令，应当最大限度地降低使用者的学习成本

3. 稳定！！！具有高度健壮性，对于各种非法输入不会崩溃，并且能够做到简单地自动纠错（\*暂时可以不实现）

4. 高效！比如使用栈等数据结构代替递归的方式对输入的公式的多嵌套进行处理

#### 预期界面

#### 预期功能

在文本框输入公式或者是数据的后，点击对应功能的按钮能够返回对应的结果

* 公式计算

  * 求式值运算

    根据输入的初等函数以及初等函数的积分/导数的有限次混合的式子返回值

    ```javascript
    求初等函数值
    直接输入一个初等函数的存数值的式子
    2+3^(2+44sin(pi))/(5e^2)
    然后就会返回这个式子计算得出的函数值
    
    
    求导数，也就是求某函数的导函数在某一点的函数值
    输入
    D(  a , x^2+3sin(x)+55x^(2+cos(x))  )
    则返回关于x的函数x^2+3sin(x)+55x^(2+cos(x))在x=a处的导数值
    
    
    求积分
    J(a~b,x^2+3e^(cos(x)+x^2) )
    则返回关于x的函数x^2+3e^(cos(x)+x^2)在x在a到b的区间之间的积分
    注意的是，这里面的函数就算只是初等函数，也可能是没有办法使用牛顿的方法求出原函数的，所以应该采用
    数值方法去求解积分值
    ```

    规范

    1. 定义运算表达

       ```javascript
       如果是定义的某种计算方法，则通过对应方法的首字拼音大写字母加括号来实现
       
       比如求导(dao)数，则表达为D(a,f),其中a为一个常量参数，指定求导的位置，
       而是一个仅仅含有一个未知数的函数，也就是要求导数的原函数
       
       又比如求积(ji)分，则表达式为J(a~b,f)
       其中a,b为两个常数，表示求积分的范围(他们应当是有限的数，暂时不考虑无穷的情况)
       
       后面如果要加入新的需要函数式的运算，也按照如上参数格式进行定义
       X(...)
       一个大写的字母表示运算的名称，括号内是运算的参数，最后面是函数式子
       ```

    2. 定义一些常量的规范

       ```javascript
       用e表示常量自然对数
       用pi表示常量圆周率。
       这两个应该是程序内置的常量
       
       后面我们应该允许用户自定义常量。
       用户自定义常量规范应该也为若干个连续的小写字母，比如a，比如ab
       用户定义常量应当可以覆盖我们定义的常量:
       比如我们程序中默认定义pi=3.1415926,用户在输入中输入定义常量语句pi=3.14之后。
       该次计算中我们都会把pi当做3.14来处理
       
       ps:常量规范，这个不是计算模块应该关心的事情。
       事实上一个公式字符串在传递给计算模块之前应该经过专门的预处理模块用常量替换了常量符号之后
       再把仅仅含有运算表达和常量的公式串传给计算模块
       
       ```

  * 解方程运算

    解开方程

  * 函数模拟

* 函数绘图

* 数列分析

* 帮助

#### 模块划分

##### 模块应该关注的事情，或者说应该具备的责任

##### 模块划分图

#### 合作方式概述